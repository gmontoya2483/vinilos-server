<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>vinyls-server</title>
	<meta name="description" content="Documentation for vinyls-server">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
	<script async src="assets/js/search.js" id="search-script"></script>
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">vinyls-server</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<h1>vinyls-server</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<a href="#vinilos-server" id="vinilos-server" style="color: inherit; text-decoration: none;">
					<h1>Vinilos-server</h1>
				</a>
				<p>Backend REST API de la aplicación <strong>Vinilos</strong>.</p>
				<a href="#descripción" id="descripción" style="color: inherit; text-decoration: none;">
					<h2>Descripción</h2>
				</a>
				<p>El objetivo de esta esta aplicación es generar una red social para compartir Vinilos dentro de distintas comunidades.</p>
				<a href="#alcance" id="alcance" style="color: inherit; text-decoration: none;">
					<h2>Alcance</h2>
				</a>
				<p>El alcance actual del backend permite al usuario registrarse, confirar su correo electronico, cargar su perfil, registrarse en una comunidad y cambiar su contraseña.
				Por otro lado permite al los usuarios seguir a otros miembros de la comunidad, cargar nuevos vinilos si este no existe y registrar un ejemplar en su biblioteca.<br>Asimismo, permite al ususario ver los distintos ejemplares que hay dentro de la comunidad que esta registrado.</p>
				<p>Dentro del las tareas administrativas, através de la API, un usuario con privilegios de administrador puede crear, modificar o eliminar paises, comunidades. Asiismo puede validar o bloquear cuentas de usario, fijar a un usuario determinado como administrador, etc.</p>
				<p>Se adjunta dentro del repositorio el proyecto de postman donde estánn definidos todos los endpoints.</p>
				<a href="#recostruir-módulos-de-node" id="recostruir-módulos-de-node" style="color: inherit; text-decoration: none;">
					<h2>Recostruir módulos de Node</h2>
				</a>
				<pre><code><span style="color: #001080">npm</span><span style="color: #000000"> </span><span style="color: #001080">install</span>
</code></pre>
				<a href="#generar-carpeta-de-distribución" id="generar-carpeta-de-distribución" style="color: inherit; text-decoration: none;">
					<h2>Generar carpeta de distribución</h2>
				</a>
				<pre><code><span style="color: #001080">tsc</span><span style="color: #000000"> -</span><span style="color: #001080">w</span>
</code></pre>
				<a href="#levantar-servidor" id="levantar-servidor" style="color: inherit; text-decoration: none;">
					<h2>Levantar servidor</h2>
				</a>
				<pre><code><span style="color: #001080">nodemon</span><span style="color: #000000"> </span><span style="color: #001080">dist</span><span style="color: #000000">/</span>
</code></pre>
				<p>ó</p>
				<pre><code><span style="color: #001080">node</span><span style="color: #000000"> </span><span style="color: #001080">dist</span><span style="color: #000000">/</span>
</code></pre>
				<a href="#base-de-datos" id="base-de-datos" style="color: inherit; text-decoration: none;">
					<h2>Base de datos</h2>
				</a>
				<p>Se debe poder conectar a una base de datos <strong>MongoDB</strong>.</p>
				<a href="#variables-de-entorno" id="variables-de-entorno" style="color: inherit; text-decoration: none;">
					<h2>Variables de Entorno</h2>
				</a>
				<p>Se debe crear un archivo llamado <code>.env</code> que debe estar en la raiz del proyecto. El contenido de este archivo debe ser el siguiente:   </p>
				<pre><code class="language-textmate">NODE_ENV=
vinyl_api_port=
vinyl_api_db_connection_url=
vinyl_api_jwtPrivateKey=
vinyl_api_sendGridApiKey=
vinyl_api_sendGridFromEmail=
</code></pre>
				<blockquote>
					<p><strong>NOTA:</strong> Para desarrollo, setear la variable de entorno NODE_ENV=development</p>
				</blockquote>
				<a href="#configuracion" id="configuracion" style="color: inherit; text-decoration: none;">
					<h2>Configuracion</h2>
				</a>
				<p>Para la configuracion del sistema se utilizó la librería <a href="https://www.npmjs.com/package/config">config</a>, haciendo uso de dos archivos de configuracion:</p>
				<ul>
					<li><p><code>config\custom-environment-variabes.json</code></p>
						<p>  Este archivo hace el mapeo con las variables de entorno para ser utilizadas en el archivo de configuración </p>
						<pre><code class="language-json5">    {
       &quot;SERVER_PORT&quot;: &quot;vinyl_api_port&quot;,
       &quot;DB_CONNECTION_URL&quot;: &quot;vinyl_api_db_connection_url&quot;,
       &quot;jwt&quot;: {
               &quot;JWT_PRIVATE_KEY&quot;: &quot;vinyl_api_jwtPrivateKey&quot;
               },
       &quot;notification&quot;: {
                         &quot;NOT_BASE_URL&quot;: &quot;vinyl_api_notBaseUrl&quot;
                        },
       &quot;sendGrid&quot;: {
                    &quot;SEND_GRID_API_KEY&quot;: &quot;vinyl_api_sendGridApiKey&quot;,
                    &quot;SEND_GRID_FROM_EMAIL&quot;: &quot;vinyl_api_sendGridFromEmail&quot;
                    }
    }
</code></pre>
						<ul>
							<li><p><code>config\default.json</code></p>
								<pre><code class="language-json5">   {
     &quot;SERVER_PORT&quot;: 3000,
     &quot;DB_CONNECTION_URL&quot;: &quot;&quot;,
     &quot;logger&quot;: {
                &quot;LOG_FILE&quot;: &quot;logs/vinyl_backend.log&quot;,
                &quot;LOG_FILE_EXCEPTIONS&quot;: &quot;logs/vinyl_backend_exceptions.log&quot;,
                &quot;LOG_GENERAL_LEVEL&quot;: &quot;info&quot;,
                &quot;LOG_FILE_LEVEL&quot;: &quot;warm&quot;,
                &quot;LOG_FILE_EXCEPTIONS_LEVEL&quot;: &quot;error&quot;
                },
     &quot;jwt&quot;: {
             &quot;JWT_PRIVATE_KEY&quot;: &quot;&quot;,
             &quot;JWT_AUTH_EXPIRES_IN&quot;: 3600,
             &quot;JWT_NOT_EXPIRES_IN&quot;: 172800
            },
     &quot;notification&quot;: {
                      &quot;NOT_BASE_URL&quot;: &quot;http://localhost:4200/#&quot;
                     },
     &quot;sendGrid&quot;: {
                  &quot;SEND_GRID_API_KEY&quot;: &quot;&quot;,
                  &quot;SEND_GRID_FROM_EMAIL&quot;: &quot;&quot;
                 },
     &quot;uploads&quot;: {
                  &quot;IMG_NOT_FOUND_PATH&quot;: &quot;../assets/no-img.jpg&quot;,
                  &quot;IMG_USERS_PATH&quot;: &quot;../uploads/users&quot;
                 },
     &quot;pagination&quot;: {
                    &quot;DEFAULT_PAGE_SIZE&quot;: 25
                   },
     &quot;passwordComplexityOptions&quot;: {
                                   &quot;min&quot;: 8,
                                   &quot;max&quot;: 30,
                                   &quot;lowerCase&quot;: 1,
                                   &quot;upperCase&quot;: 1,
                                   &quot;numeric&quot;: 1,
                                   &quot;symbol&quot;: 1,
                                   &quot;requirementCount&quot;: 4
                                   }
    }
</code></pre>
								<blockquote>
									<p><strong>NOTA:</strong> Los valores sensibles, ya sean API key, connections strings, password, etc. Son tomados de las variables de entorno y se deben dejar vacios tal cual se muestra en el ejemplo.</p>
								</blockquote>
							</li>
						</ul>
					</li>
				</ul>
				<a href="#logger-winston" id="logger-winston" style="color: inherit; text-decoration: none;">
					<h3>Logger (winston)</h3>
				</a>
				<p>Para el logueo de mensajes se utilizó la libreria <a href="https://www.npmjs.com/package/winston">Winston</a></p>
				<ul>
					<li><code>LOG_FILE</code> - Ruta del archivo de logs de express (Default: &#39;logs/vinyls_backend.log&#39;)</li>
					<li><code>LOG_FILE_EXCEPTIONSs</code> - Ruta del archivo de logs de excepciones (Default: &#39;logs/vinyls_backend_exceptions.log&#39;)</li>
					<li><code>LOG_GENRAL_LEVEL</code> - Nivel de general de Errores. Salida por consola (Default: &#39;debug&#39;)</li>
					<li><code>LOG_FILE_LEVEL</code> - Nivel de Errores que se van a guardar en archivo. (Default: &#39;warn&#39;)</li>
					<li><code>LOG_FILE_EXCEPTIONS_LEVEL</code> - - Nivel de Error de excepciones que se van a guardar en archivo de log de excepciones. (Default: &#39;error&#39;)</li>
				</ul>
				<blockquote>
					<p><strong>Niveles de error Soportados</strong></p>
					<ul>
						<li><code>error: 0</code></li>
						<li><code>warn: 1</code></li>
						<li><code>info: 2</code></li>
						<li><code>http: 3,</code></li>
						<li><code>verbose: 4</code></li>
						<li><code>debug: 5</code></li>
						<li><code>silly: 6</code></li>
					</ul>
				</blockquote>
				<a href="#envio-de-email-sendgrid" id="envio-de-email-sendgrid" style="color: inherit; text-decoration: none;">
					<h3>Envio de email (SendGrid)</h3>
				</a>
				<p>Para el envío de emails se integró un servicio externo llamado <a href="https://sendgrid.com/">SendGrid</a>. Para hacer uso de este servicio se debe registrar, obtener una API Key y definir la casilla de correo del sender.<br>Estos parámetros deben ser definidos en las variavles de entorno.</p>
				<pre><code class="language-textmate">vinyl_api_sendGridApiKey=
vinyl_api_sendGridFromEmail=
</code></pre>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class=" ">
						<a href="modules.html">Modules</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/authentication_service.html">authentication.service</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/author_service.html">author.service</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/community_service.html">community.service</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/copy_service.html">copy.service</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/country_service.html">country.service</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/follow_service.html">follow.service</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/genre_service.html">genre.service</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/me_service.html">me.service</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/user_service.html">user.service</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/vinyl_service.html">vinyl.service</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>